<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <title>Calcular Imposto</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
</head>
<style>
    .color_general{
        background-color: #3383ff;
    }
    .box_center{
        height: 550px;
        width: 560px;
    }
    body{
        font-family:'arial';
    }
</style>
<body>
    <nav class="navbar navbar-expand-md color_general">
        <div class="rounded-circle bg-white text-center" style="width: 45px; height:45px; margin-right: 20px; margin-left: 5px;">
            <i class="fa-solid fa-hand-holding-dollar h3 mt-2" style="color: #3383ff;"></i>
        </div>
        <div class="text-white">
            <b>CALCULADORA DE IMPOSTO DE RENDA</b>
        </div>
        <div class="d-flex justify-content-end col-8">
            <img src="./static/logo_unipe_desktop_pos.png" style="width: 90px; height:40px;">
        </div>
    </nav>
    <div class="col-12 text-center">
        <h5 class="mt-4">Esse é o cáculo do seu imposto, <b th:text ="${pessoa.nome}"/>.</h5>

            <table class="table table table-striped col-sm-8">
                <thead class="thead-light">
                <tr>
                    <th class="text-center" scope="col">Faixa</th>
                    <th class="text-center" scope="col"> Valor Faixa</th>
                    <th class="text-center" scope="col">Alíquota</th>
                    <th class="text-center" scope="col">Valor Imposto</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td class="text-center">1° Faixa</td>
                    <td class="text-right text-danger"> <b class="td_valor" th:text ="${pessoa.valorFaixa[0]}"/></td>
                    <td class="text-center">0,0%</td>
                    <td class="text-right text-danger"><b class="td_valor" th:text ="${pessoa.valorImposto[0]}"/></td>
                </tr>
                <tr>
                    <td class="text-center">2° Faixa</td>
                    <td class="text-right text-danger"> <b class="td_valor" th:text ="${pessoa.valorFaixa[1]}"/></td>
                    <td class="text-center">7,5%</td>
                    <td class="text-right text-danger"> <b class="td_valor" th:text ="${pessoa.valorImposto[1]}"/></td>
                </tr>
                <tr>
                    <td class="text-center">3° Faixa</td>
                    <td class="text-right text-danger"> <b class="td_valor" th:text ="${pessoa.valorFaixa[2]}"/></td>
                    <td class="text-center">15,0%</td>
                    <td class="text-right text-danger"><b class="td_valor" th:text ="${pessoa.valorImposto[2]}"/></td>
                </tr>
                <tr>
                    <td class="text-center">4° Faixa</td>
                    <td class="text-right text-danger"> <b class="td_valor" th:text ="${pessoa.valorFaixa[3]}"/></td>
                    <td class="text-center"v>22,5%</td>
                    <td class="text-right text-danger"><b class="td_valor" th:text ="${pessoa.valorImposto[3]}"/></td>
                </tr>
                <tr>
                    <td class="text-center">5° Faixa</td>
                    <td class="text-right text-danger"> <b class="td_valor" th:text ="${pessoa.valorFaixa[4]}"/></td>
                    <td class="text-center">27,5%</td>
                    <td class="text-right text-danger"><b class="td_valor" th:text ="${pessoa.valorImposto[4]}"/></td>
                </tr>
                <tr>
                    <td class="text-center">Total:</td>
                    <td class="text-center"><b class="td_valor" th:text ="${pessoa.totalFaixa}"/></td>
                    <td></td>
                    <td class="text-center"><b class="td_valor" th:text ="${pessoa.totalImposto}"/></td>
                </tr>
                </tbody>
            </table>

            <a href="/" class="btn btn-primary col-2 text-white"><i class="fa-solid fa-plus mr-3"></i>Calcular</a>
    </div>
    <footer class="text-center text-lg-start text-muted">
        <div class="text-center p-4">
            <small>© 2023 Copyright: Dimas, Marilia, Thiago, Nathyane, Daniel.</small>
        </div>
    </footer>
</body>
<script>
    $(".td_valor").each(function(){
        $(this).html(parseFloat($(this).text()).toLocaleString('pt-br',{style: 'currency', currency: 'BRL'}));
    })
</script>
</html>